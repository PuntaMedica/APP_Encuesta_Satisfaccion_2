(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{173:(e,a,s)=>{Promise.resolve().then(s.bind(s,6601))},6601:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var r=s(5155),n=s(2115),t=s(5239),i=s(2008);s(3262);let o=["La atenci\xf3n en Admisi\xf3n fue r\xe1pida, eficiente y le fueron aclaradas todas sus dudas.","Se le brind\xf3 informaci\xf3n transparente y precisa sobre aspectos administrativos (costos, seguros, procedimientos).","Antes de firmar Consentimiento, recibi\xf3 informaci\xf3n necesaria para decidir (incluye hospitalizaci\xf3n).","Habitaci\xf3n y \xe1reas c\xf3modas, limpias y armoniosas.","Se\xf1alizaci\xf3n clara y f\xe1cil de entender.","Instalaciones c\xf3modas y accesibles.","Considera que la dieta proporcionada a su paciente fue de su entera satisfacci\xf3n en cuanto a cantidad, calidad y temperatura.","Trato respetuoso y compasivo.","Respeto a su privacidad durante la atenci\xf3n.","Respeto a sus costumbres, creencias y cultura.","Informaci\xf3n clara del m\xe9dico y equipo sobre su condici\xf3n, opciones, riesgos y beneficios.","Atenci\xf3n a dolor y molestias (fatiga, n\xe1usea, ansiedad, sue\xf1o).","Recib\xed atenci\xf3n m\xe9dica segura y de calidad."],c=[{v:1,emoji:"\uD83D\uDE21",label:"Totalmente en desacuerdo"},{v:2,emoji:"\uD83D\uDE41",label:"En desacuerdo"},{v:3,emoji:"\uD83D\uDE10",label:"Ni de acuerdo ni en desacuerdo"},{v:4,emoji:"\uD83D\uDE42",label:"De acuerdo"},{v:5,emoji:"\uD83D\uDE04",label:"Totalmente de acuerdo"}];function l(){let e=(0,n.useMemo)(()=>({nombre:"",contacto:"",habitacion:"",fecha:function(){let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))}(),respuestas:o.map(()=>0),sugerencias:""}),[]),[a,s]=(0,n.useState)(e),l=async r=>{r.preventDefault();let n=a.nombre.trim()?a.respuestas.some(e=>e<1||e>5)?"Responde todas las preguntas.":null:"El nombre es obligatorio.";if(n)return i.oR.error(n);let t=a.respuestas.map((e,a)=>({pregunta_id:a+1,valor:e}));try{let r=await fetch("/api/encuesta-satisfaccion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:a.nombre.trim(),contacto:a.contacto.trim(),habitacion:a.habitacion.trim(),fecha:a.fecha,respuestas:t,sugerencia:a.sugerencias.trim(),created_at:new Date().toISOString()})});if(!(r.headers.get("content-type")||"").includes("application/json"))throw Error("Respuesta no JSON");let n=await r.json();if(!r.ok||!1===n.ok)throw Error(n.error||"Error al guardar");i.oR.success("\xa1Gracias! Tu encuesta fue enviada."),s(e)}catch(e){i.oR.error(e.message||"No se pudo enviar. Intenta nuevamente.")}};return(0,r.jsxs)("main",{className:"min-h-screen bg-gray-100 text-gray-800",children:[(0,r.jsx)(i.N9,{position:"top-right",autoClose:2500}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"ENCUESTA DE SATISFACCI\xd3N"}),(0,r.jsx)("p",{className:"font-semibold",children:"DEPARTAMENTO DE RELACIONES P\xdaBLICAS"})]}),(0,r.jsx)(t.default,{src:"/logo.webp",alt:"Logo Hospital",width:70,height:70,className:"rounded-md shadow",unoptimized:!0})]}),(0,r.jsx)("p",{className:"mt-4 text-sm md:text-base",children:"Estimado(a) usuario(a): Con el fin de mejorar la calidad de la atenci\xf3n, le pedimos respetuosamente que valore nuestros servicios a trav\xe9s de la siguiente encuesta. Agradecemos su comprensi\xf3n y sinceridad."}),(0,r.jsxs)("form",{onSubmit:l,className:"mt-6 bg-white rounded-2xl shadow p-5 md:p-7",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre *"}),(0,r.jsx)("input",{value:a.nombre,onChange:e=>s(a=>({...a,nombre:e.target.value})),className:"w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-gray-300",placeholder:"Nombre completo",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fecha"}),(0,r.jsx)("input",{type:"date",value:a.fecha,onChange:e=>s(a=>({...a,fecha:e.target.value})),className:"w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-gray-300"})]}),(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Tel\xe9fono o correo"}),(0,r.jsx)("input",{value:a.contacto,onChange:e=>s(a=>({...a,contacto:e.target.value})),className:"w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-gray-300",placeholder:"55 0000 0000 / correo@ejemplo.com"})]}),(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Habitaci\xf3n"}),(0,r.jsx)("input",{value:a.habitacion,onChange:e=>s(a=>({...a,habitacion:e.target.value})),className:"w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-gray-300",placeholder:"Ej. 302B"})]})]}),(0,r.jsx)("div",{className:"mt-6 p-4 rounded-xl border bg-gray-50",children:(0,r.jsxs)("p",{className:"text-sm",children:["Selecciona una opci\xf3n por pregunta: ",(0,r.jsx)("b",{children:"\uD83D\uDE21=1"}),", ",(0,r.jsx)("b",{children:"\uD83D\uDE41=2"}),", ",(0,r.jsx)("b",{children:"\uD83D\uDE10=3"}),","," ",(0,r.jsx)("b",{children:"\uD83D\uDE42=4"}),", ",(0,r.jsx)("b",{children:"\uD83D\uDE04=5"}),"."]})}),(0,r.jsx)("ul",{className:"mt-6 space-y-5",children:o.map((e,n)=>(0,r.jsxs)("li",{className:"rounded-xl border p-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"shrink-0 w-7 h-7 flex items-center justify-center rounded-full bg-gray-100 border text-sm font-semibold",children:n+1}),(0,r.jsx)("p",{className:"font-medium",children:e})]}),(0,r.jsx)("div",{className:"mt-3 flex gap-3 md:gap-5",children:c.map(e=>{let t=a.respuestas[n]===e.v;return(0,r.jsxs)("button",{type:"button",onClick:()=>{var a;return a=e.v,void s(e=>{let s=[...e.respuestas];return s[n]=a,{...e,respuestas:s}})},title:"".concat(e.v," - ").concat(e.label),className:"rounded-2xl border px-3 py-2 flex flex-col items-center hover:bg-gray-50 transition ".concat(t?"ring-2 ring-blue-300 bg-blue-100 scale-105":""),children:[(0,r.jsx)("span",{className:"text-2xl leading-none",children:e.emoji}),(0,r.jsx)("span",{className:"text-xs mt-1",children:e.v})]},e.v)})})]},n))}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Sugerencias u observaciones:"}),(0,r.jsx)("textarea",{rows:5,value:a.sugerencias,onChange:e=>s(a=>({...a,sugerencias:e.target.value})),className:"w-full border rounded-xl px-3 py-2 focus:ring-2 focus:ring-gray-300",placeholder:"Escribe aqu\xed tus comentariosâ€¦"})]}),(0,r.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,r.jsx)("button",{type:"submit",className:"px-5 py-2 rounded-xl bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Enviar"}),(0,r.jsx)("button",{type:"button",onClick:()=>s(e),className:"px-5 py-2 rounded-xl border hover:bg-gray-50",children:"Limpiar"})]})]})]})]})}}},e=>{e.O(0,[125,253,441,255,358],()=>e(e.s=173)),_N_E=e.O()}]);